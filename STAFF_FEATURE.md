# Функционал "Наша команда"

## Что было реализовано

### 1. База данных
- ✅ Создана новая модель `StaffMember` в Prisma schema
- ✅ Создана миграция `20251114102614_add_staff_members`
- ✅ Поля модели:
  - `id` - уникальный идентификатор
  - `name` - ФИО участника
  - `role` - роль (Актёр, Режиссёр, Оператор и т.д.)
  - `photo` - путь к фотографии (опционально)
  - `description` - подробное описание
  - `order` - порядок сортировки
  - `createdAt`, `updatedAt` - временные метки

### 2. API endpoints
- ✅ `GET /api/staff` - получить всех участников команды
- ✅ `POST /api/staff` - создать нового участника
- ✅ `DELETE /api/staff?id={id}` - удалить участника
- ✅ `PATCH /api/staff/[id]` - обновить данные участника
- ✅ `POST /api/staff/[id]` - переместить участника вверх/вниз

### 3. Публичная страница `/staff`
- ✅ Красивая сетка карточек с участниками команды
- ✅ Отображение фото, имени, роли и краткого описания
- ✅ Модальное окно с полной информацией при клике на карточку
- ✅ Адаптивный дизайн для мобильных устройств
- ✅ Плавные анимации и переходы
- ✅ Поддержка тёмной темы

### 4. Админская страница `/admin/staff`
- ✅ Форма для добавления новых участников команды
- ✅ Редактирование существующих участников
- ✅ Загрузка фотографий через SingleImageUploader
- ✅ Перемещение участников вверх/вниз для изменения порядка
- ✅ Удаление участников с подтверждением
- ✅ Полностью функциональный CRUD интерфейс

### 5. Навигация
- ✅ Добавлена вкладка "Наша команда" в публичное меню (между "Услуги" и "Документы")
- ✅ Добавлена вкладка "Наша команда" в админ-панель (после "Услуги")

### 6. Компоненты
- ✅ Обновлён `SingleImageUploader` для поддержки управляемого состояния (value/onChange props)

## Использование

### Публичная страница
Перейдите на `/staff` для просмотра команды. Кликните на любую карточку для просмотра полной информации об участнике.

### Админ-панель
1. Перейдите в `/admin/staff`
2. Нажмите "Добавить участника команды"
3. Заполните форму:
   - ФИО (обязательно)
   - Роль (обязательно, например: Актёр, Режиссёр, Оператор)
   - Фотография (опционально)
   - Описание (обязательно)
4. Нажмите "Добавить"
5. Используйте кнопки ↑/↓ для изменения порядка отображения
6. Используйте "Редактировать" для изменения данных
7. Используйте "Удалить" для удаления участника

## Технические детали

### Модель отличается от TeamMember
- `TeamMember` используется для страницы "О нас" (команда кинокомиссии)
- `StaffMember` используется для отдельной страницы "Наша команда" (актёры, режиссёры и т.д.)

### Особенности реализации
- Сортировка через поле `order` с возможностью перемещения через UI
- Поддержка как управляемых, так и неуправляемых форм
- Оптимистичные обновления UI после операций
- Graceful fallback для отсутствующих фотографий
- Полная поддержка тёмной темы
- Адаптивный дизайн для всех размеров экранов

## Что дальше?

Функционал готов к использованию! Вы можете:
1. Добавить первых участников команды через админ-панель
2. Настроить порядок отображения
3. Просмотреть результат на публичной странице

При необходимости можно расширить функционал:
- Добавить фильтрацию по ролям
- Добавить поиск по имени
- Добавить социальные сети участников
- Добавить видео-презентации


