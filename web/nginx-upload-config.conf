# Конфигурация Nginx для загрузки больших видео файлов
# Добавьте эти директивы в ваш nginx.conf или в конфиг сайта

# Увеличиваем лимит размера тела запроса до 1GB
client_max_body_size 1024M;

# Увеличиваем таймауты для загрузки больших файлов
client_body_timeout 300s;
client_header_timeout 300s;
proxy_read_timeout 300s;
proxy_connect_timeout 300s;
proxy_send_timeout 300s;

# Буферы для больших запросов
client_body_buffer_size 128k;
client_header_buffer_size 1k;
large_client_header_buffers 4 16k;

# Пример использования в location блоке:
# location /api/upload {
#     client_max_body_size 1024M;
#     proxy_pass http://localhost:3000;
#     proxy_http_version 1.1;
#     proxy_set_header Upgrade $http_upgrade;
#     proxy_set_header Connection 'upgrade';
#     proxy_set_header Host $host;
#     proxy_cache_bypass $http_upgrade;
#     proxy_read_timeout 300s;
# }

